"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[686],{8453(e,n,r){r.d(n,{R:()=>d,x:()=>t});var s=r(6540);const i={},l=s.createContext(i);function d(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),s.createElement(l.Provider,{value:n},e.children)}},9009(e,n,r){r.r(n),r.d(n,{assets:()=>h,contentTitle:()=>t,default:()=>a,frontMatter:()=>d,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"projects/bargain-hunter/index","title":"Bargain Hunter","description":"MSA \uae30\ubc18 \uad6d\ub0b4 \uad00\uad11 \uc9c0\uc6d0 \uc11c\ube44\uc2a4","source":"@site/docs/projects/bargain-hunter/index.md","sourceDirName":"projects/bargain-hunter","slug":"/projects/bargain-hunter/","permalink":"/docs/projects/bargain-hunter/","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"Bargain Hunter","description":"MSA \uae30\ubc18 \uad6d\ub0b4 \uad00\uad11 \uc9c0\uc6d0 \uc11c\ube44\uc2a4"},"sidebar":"tutorialSidebar","previous":{"title":"\ud504\ub85c\uc81d\ud2b8 \ud3ec\ud2b8\ud3f4\ub9ac\uc624","permalink":"/docs/projects/"},"next":{"title":"\uc774\uba54\uc77c \ubc1c\uc1a1 \ube44\ub3d9\uae30 \ucc98\ub9ac (92% \uac1c\uc120)","permalink":"/docs/projects/bargain-hunter/troubleshooting/email-async"}}');var i=r(4848),l=r(8453);const d={sidebar_position:1,title:"Bargain Hunter",description:"MSA \uae30\ubc18 \uad6d\ub0b4 \uad00\uad11 \uc9c0\uc6d0 \uc11c\ube44\uc2a4"},t="\ud83d\uddfa\ufe0f Bargain Hunter",h={},c=[{value:"\ubaa9\ucc28",id:"\ubaa9\ucc28",level:3},{value:"\ud83d\udccb \ud504\ub85c\uc81d\ud2b8 \uac1c\uc694",id:"-\ud504\ub85c\uc81d\ud2b8-\uac1c\uc694",level:2},{value:"\uc8fc\uc694 \uae30\ub2a5",id:"\uc8fc\uc694-\uae30\ub2a5",level:3},{value:"\ud83c\udfd7\ufe0f \uc2dc\uc2a4\ud15c \uc544\ud0a4\ud14d\ucc98",id:"\ufe0f-\uc2dc\uc2a4\ud15c-\uc544\ud0a4\ud14d\ucc98",level:2},{value:"MSA \uae30\ubc18 \uc11c\ube44\uc2a4 \uad6c\uc870",id:"msa-\uae30\ubc18-\uc11c\ube44\uc2a4-\uad6c\uc870",level:3},{value:"\ud575\uc2ec \uc124\uacc4 \uc6d0\uce59",id:"\ud575\uc2ec-\uc124\uacc4-\uc6d0\uce59",level:3},{value:"\ud83d\udd27 \uae30\uc220 \uc2a4\ud0dd",id:"-\uae30\uc220-\uc2a4\ud0dd",level:2},{value:"Backend",id:"backend",level:3},{value:"Infra &amp; DevOps",id:"infra--devops",level:3},{value:"\ud83c\udfaf \ub2f4\ub2f9 \uc5ed\ud560 (Auth)",id:"-\ub2f4\ub2f9-\uc5ed\ud560-auth",level:2},{value:"1. JWT + Refresh Token \uae30\ubc18 \uc778\uc99d \uc2dc\uc2a4\ud15c",id:"1-jwt--refresh-token-\uae30\ubc18-\uc778\uc99d-\uc2dc\uc2a4\ud15c",level:3},{value:"2. Google OAuth2 + PKCE \ud50c\ub85c\uc6b0",id:"2-google-oauth2--pkce-\ud50c\ub85c\uc6b0",level:3},{value:"3. Redis \uae30\ubc18 \uc774\uba54\uc77c \uc778\uc99d \uc2dc\uc2a4\ud15c",id:"3-redis-\uae30\ubc18-\uc774\uba54\uc77c-\uc778\uc99d-\uc2dc\uc2a4\ud15c",level:3},{value:"4. Gateway \ub77c\uc6b0\ud305 \ubc0f \uc778\uc99d \ud544\ud130",id:"4-gateway-\ub77c\uc6b0\ud305-\ubc0f-\uc778\uc99d-\ud544\ud130",level:3},{value:"\ud83d\udd25 \ud575\uc2ec \uae30\uc220 \ub3c4\uc804",id:"-\ud575\uc2ec-\uae30\uc220-\ub3c4\uc804",level:2},{value:"1\ufe0f\u20e3 \uc774\uba54\uc77c \ubc1c\uc1a1 API \uc751\ub2f5 \uc18d\ub3c4 92% \uac1c\uc120",id:"1\ufe0f\u20e3-\uc774\uba54\uc77c-\ubc1c\uc1a1-api-\uc751\ub2f5-\uc18d\ub3c4-92-\uac1c\uc120",level:3},{value:"2\ufe0f\u20e3 Redis HINCRBY\ub85c \ub3d9\uc2dc\uc131 \ubb38\uc81c \ud574\uacb0",id:"2\ufe0f\u20e3-redis-hincrby\ub85c-\ub3d9\uc2dc\uc131-\ubb38\uc81c-\ud574\uacb0",level:3},{value:"3\ufe0f\u20e3 Refresh Token \uad00\ub9ac \uc804\ub7b5",id:"3\ufe0f\u20e3-refresh-token-\uad00\ub9ac-\uc804\ub7b5",level:3},{value:"\ud83d\udcca \uc8fc\uc694 \uc131\uacfc",id:"-\uc8fc\uc694-\uc131\uacfc",level:2},{value:"\uc131\ub2a5 \ucd5c\uc801\ud654",id:"\uc131\ub2a5-\ucd5c\uc801\ud654",level:3},{value:"\ubcf4\uc548 \uac15\ud654",id:"\ubcf4\uc548-\uac15\ud654",level:3},{value:"\uc544\ud0a4\ud14d\ucc98",id:"\uc544\ud0a4\ud14d\ucc98",level:3},{value:"\ud83d\udca1 \ubc30\uc6b4 \uc810",id:"-\ubc30\uc6b4-\uc810",level:2},{value:"MSA \uc124\uacc4 \uacbd\ud5d8",id:"msa-\uc124\uacc4-\uacbd\ud5d8",level:3},{value:"\ubcf4\uc548 \uc911\uc2ec \uc124\uacc4",id:"\ubcf4\uc548-\uc911\uc2ec-\uc124\uacc4",level:3},{value:"\uc131\ub2a5 \ucd5c\uc801\ud654",id:"\uc131\ub2a5-\ucd5c\uc801\ud654-1",level:3},{value:"\ud83d\udd17 \uad00\ub828 \ub9c1\ud06c",id:"-\uad00\ub828-\ub9c1\ud06c",level:2}];function o(e){const n={a:"a",blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"\ufe0f-bargain-hunter",children:"\ud83d\uddfa\ufe0f Bargain Hunter"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"MSA \uae30\ubc18 \uc5ec\ud589 \ud0d0\uc0c9 \ud50c\ub7ab\ud3fc"}),(0,i.jsx)(n.br,{}),"\n","\uc804\uad6d\uc758 \uad00\uad11\uc9c0, \ubb38\ud654\uba85\uc18c\ub97c \uc9c0\ub3c4\ub85c \ud0d0\uc0c9\ud558\uace0, \ub9ac\ubdf0\ub97c \ub0a8\uae30\uba70, LLM \uae30\ubc18 \uac00\uaca9 \ube44\uad50\uae4c\uc9c0 \uac00\ub2a5\ud55c \uc11c\ube44\uc2a4"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"\ubaa9\ucc28",children:"\ubaa9\ucc28"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EA%B0%9C%EC%9A%94",children:"\ud504\ub85c\uc81d\ud2b8 \uac1c\uc694"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98",children:"\uc2dc\uc2a4\ud15c \uc544\ud0a4\ud14d\ucc98"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#-%EA%B8%B0%EC%88%A0-%EC%8A%A4%ED%83%9D",children:"\uae30\uc220 \uc2a4\ud0dd"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#-%EB%8B%B4%EB%8B%B9-%EC%97%AD%ED%95%A0-auth",children:"\ub2f4\ub2f9 \uc5ed\ud560"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#-%ED%95%B5%EC%8B%AC-%EA%B8%B0%EC%88%A0-%EB%8F%84%EC%A0%84",children:"\ud575\uc2ec \uae30\uc220 \ub3c4\uc804"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#-%EC%A3%BC%EC%9A%94-%EC%84%B1%EA%B3%BC",children:"\uc8fc\uc694 \uc131\uacfc"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#-%EB%B0%B0%EC%9A%B4-%EC%A0%90",children:"\ubc30\uc6b4 \uc810"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#-%EA%B4%80%EB%A0%A8-%EB%A7%81%ED%81%AC",children:"\uad00\ub828 \ub9c1\ud06c"})}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"-\ud504\ub85c\uc81d\ud2b8-\uac1c\uc694",children:"\ud83d\udccb \ud504\ub85c\uc81d\ud2b8 \uac1c\uc694"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\ud56d\ubaa9"}),(0,i.jsx)(n.th,{children:"\ub0b4\uc6a9"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"\uae30\uac04"})}),(0,i.jsx)(n.td,{children:"2025.07 ~ 2025.10 (4\uac1c\uc6d4)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"\ud300 \uad6c\uc131"})}),(0,i.jsx)(n.td,{children:"BE 4\uba85, FE 1\uba85"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"\uc5ed\ud560"})}),(0,i.jsx)(n.td,{children:"Backend Developer (Auth Service \ub2f4\ub2f9)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"\ubc30\ud3ec"})}),(0,i.jsx)(n.td,{children:"Kubernetes + GitHub Actions CI/CD"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"\uc8fc\uc694-\uae30\ub2a5",children:"\uc8fc\uc694 \uae30\ub2a5"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\ud83d\uddfa\ufe0f ",(0,i.jsx)(n.strong,{children:"\uc9c0\ub3c4 \ud0d0\uc0c9"}),": TourAPI \uc5f0\ub3d9 \uad00\uad11\uc9c0 \uc815\ubcf4 \uc81c\uacf5"]}),"\n",(0,i.jsxs)(n.li,{children:["\ud83d\udcdd ",(0,i.jsx)(n.strong,{children:"\ub9ac\ubdf0 \uc2dc\uc2a4\ud15c"}),": Kafka \uae30\ubc18 \uc774\ubca4\ud2b8 \uba54\uc2dc\uc9d5"]}),"\n",(0,i.jsxs)(n.li,{children:["\ud83d\udcac ",(0,i.jsx)(n.strong,{children:"\uac00\uaca9 \uc9c8\uc758"}),": Gemini API \ucc57\ubd07"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"\ufe0f-\uc2dc\uc2a4\ud15c-\uc544\ud0a4\ud14d\ucc98",children:"\ud83c\udfd7\ufe0f \uc2dc\uc2a4\ud15c \uc544\ud0a4\ud14d\ucc98"}),"\n",(0,i.jsx)(n.h3,{id:"msa-\uae30\ubc18-\uc11c\ube44\uc2a4-\uad6c\uc870",children:"MSA \uae30\ubc18 \uc11c\ube44\uc2a4 \uad6c\uc870"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502         API Gateway (Spring Cloud)      \u2502\r\n\u2502  - JWT \uac80\uc99d (1\ud68c)                        \u2502\r\n\u2502  - \ud5e4\ub354\ub85c \uc0ac\uc6a9\uc790 \uc815\ubcf4 \uc804\ub2ec                \u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n            \u2502\r\n    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n    \u2502                \u2502          \u2502         \u2502\r\n\u250c\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u25bc\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u25bc\u2500\u2500\u2500\u2510\r\n\u2502 Auth  \u2502    \u2502  Review    \u2502  \u2502 Tour \u2502  \u2502 Util\u2502\r\n\u2502 (JWT) \u2502    \u2502  (Kafka)   \u2502  \u2502 (API)\u2502  \u2502(LLM)\u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2518\r\n     \u2502              \u2502\r\n\u250c\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2510\r\n\u2502PostgreSQL\u2502   \u2502PostgreSQL\u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\ud575\uc2ec-\uc124\uacc4-\uc6d0\uce59",children:"\ud575\uc2ec \uc124\uacc4 \uc6d0\uce59"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u2705 ",(0,i.jsx)(n.strong,{children:"Gateway \uc911\uc559 \uc778\uc99d"}),": JWT \uac80\uc99d\uc744 Gateway\uc5d0\uc11c 1\ud68c\ub9cc \uc218\ud589 \u2192 \uac01 \uc11c\ube44\uc2a4\ub294 \ud5e4\ub354\uc5d0\uc11c \uc0ac\uc6a9\uc790 \uc815\ubcf4 \ucd94\ucd9c"]}),"\n",(0,i.jsxs)(n.li,{children:["\u2705 ",(0,i.jsx)(n.strong,{children:"\uc774\ubca4\ud2b8 \uae30\ubc18 \ube44\ub3d9\uae30"}),": Spring Event + @Async\ub85c \uc774\uba54\uc77c \ubc1c\uc1a1 \ucc98\ub9ac"]}),"\n",(0,i.jsxs)(n.li,{children:["\u2705 ",(0,i.jsx)(n.strong,{children:"\ub3c5\ub9bd\uc801 \ubc30\ud3ec"}),": \uac01 \uc11c\ube44\uc2a4\ubcc4 Docker \uc774\ubbf8\uc9c0 \ube4c\ub4dc \u2192 Kubernetes \ubc30\ud3ec"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"-\uae30\uc220-\uc2a4\ud0dd",children:"\ud83d\udd27 \uae30\uc220 \uc2a4\ud0dd"}),"\n",(0,i.jsx)(n.h3,{id:"backend",children:"Backend"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\uae30\uc220"}),(0,i.jsx)(n.th,{children:"\uc120\ud0dd \uc774\uc720"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Java 17 + Spring Boot 3.x"})}),(0,i.jsx)(n.td,{children:"\ucd5c\uc2e0 LTS \uae30\ubc18 \uc548\uc815\uc131 \ud655\ubcf4"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Spring Cloud Gateway"})}),(0,i.jsx)(n.td,{children:"Reactive \uae30\ubc18 \uace0\uc131\ub2a5 API Gateway"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"PostgreSQL"})}),(0,i.jsx)(n.td,{children:"JSONB \uc9c0\uc6d0 \ubc0f \ubcf5\uc7a1\ud55c \ucffc\ub9ac \ucc98\ub9ac"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Redis"})}),(0,i.jsx)(n.td,{children:"\uc774\uba54\uc77c \uc778\uc99d \ucf54\ub4dc \uc800\uc7a5 (Hash + TTL)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"JWT + Refresh Token"})}),(0,i.jsx)(n.td,{children:"Stateless \uc778\uc99d + \ud1a0\ud070 \uac31\uc2e0 \uad6c\uc870"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"OAuth2 + PKCE"})}),(0,i.jsx)(n.td,{children:"Google \ub85c\uadf8\uc778 \ubcf4\uc548 \uac15\ud654"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"infra--devops",children:"Infra & DevOps"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Docker + Kubernetes"}),": \ucee8\ud14c\uc774\ub108 \uc624\ucf00\uc2a4\ud2b8\ub808\uc774\uc158"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"GitHub Actions"}),": PR Merge \uc2dc \uc790\ub3d9 \ube4c\ub4dc/\ubc30\ud3ec"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Naver Cloud Platform"}),": \uc778\ud504\ub77c \ud638\uc2a4\ud305"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"-\ub2f4\ub2f9-\uc5ed\ud560-auth",children:"\ud83c\udfaf \ub2f4\ub2f9 \uc5ed\ud560 (Auth)"}),"\n",(0,i.jsx)(n.h3,{id:"1-jwt--refresh-token-\uae30\ubc18-\uc778\uc99d-\uc2dc\uc2a4\ud15c",children:"1. JWT + Refresh Token \uae30\ubc18 \uc778\uc99d \uc2dc\uc2a4\ud15c"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"@Transactional\r\npublic TokenPair generateTokens(User user) {\r\n    // \uae30\uc874 \ud1a0\ud070 \uc0ad\uc81c (\ub2e8\uc77c \uae30\uae30 \ub85c\uadf8\uc778)\r\n    refreshTokenRepository.deleteByUserId(user.getId());\r\n\r\n    // \uc0c8 \ud1a0\ud070 \uc0dd\uc131\r\n    Token accessToken = jwtTokenProvider.generateAccessToken(...);\r\n    Token refreshToken = jwtTokenProvider.generateRefreshToken(...);\r\n\r\n    // Refresh Token DB \uc800\uc7a5\r\n    RefreshToken tokenEntity = RefreshToken.create(\r\n        user.getId(),\r\n        refreshToken.getToken(),\r\n        Date.from(refreshToken.getTokenExpiry())\r\n    );\r\n    refreshTokenRepository.save(tokenEntity);\r\n\r\n    return new TokenPair(accessToken, refreshToken);\r\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\ud575\uc2ec \ud3ec\uc778\ud2b8"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u2705 Access Token (1\uc2dc\uac04) + Refresh Token (2\uc8fc) \uc774\uc911 \uad6c\uc870"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Refresh Token\uc744 DB\uc5d0 \uc800\uc7a5 \u2192 \ub85c\uadf8\uc544\uc6c3 \uc2dc \uc989\uc2dc \uc0ad\uc81c \uac00\ub2a5"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 \ud1a0\ud070 \ud0c8\ucde8 \uc2dc \ud574\ub2f9 \uc0ac\uc6a9\uc790\uc758 \ubaa8\ub4e0 \ud1a0\ud070 \ubb34\ud6a8\ud654 \uac00\ub2a5"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"2-google-oauth2--pkce-\ud50c\ub85c\uc6b0",children:"2. Google OAuth2 + PKCE \ud50c\ub85c\uc6b0"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"// Frontend: code_verifier \uc0dd\uc131\r\nconst codeVerifier = generateRandomString(43);\r\nconst codeChallenge = await sha256(codeVerifier);\r\n\r\n// Authorization Code \uc694\uccad \uc2dc code_challenge \uc804\uc1a1\r\nconst authUrl = `${GOOGLE_AUTH_URL}?\r\n  code_challenge=${codeChallenge}&\r\n  code_challenge_method=S256&\r\n  ...`;\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"// Backend: Token \uad50\ud658 \uc2dc code_verifier \uac80\uc99d\r\n@Service\r\npublic class OAuth2Service {\r\n\r\n    public TokenPair processOAuth2Login(String code, String codeVerifier) {\r\n        // Google\ub85c\ubd80\ud130 \ud1a0\ud070 \uad50\ud658\r\n        GoogleTokenResponse tokenResponse =\r\n            oAuth2FeignClient.exchangeToken(code, codeVerifier);\r\n\r\n        // \uc0ac\uc6a9\uc790 \uc815\ubcf4 \uc870\ud68c\r\n        GoogleUserInfo userInfo =\r\n            oAuth2FeignClient.getUserInfo(tokenResponse.getAccessToken());\r\n\r\n        // \ud68c\uc6d0 \uac00\uc785 \ub610\ub294 \ub85c\uadf8\uc778 \ucc98\ub9ac\r\n        User user = userService.findOrCreateUser(userInfo);\r\n\r\n        // JWT \ud1a0\ud070 \uc0dd\uc131\r\n        return generateTokens(user);\r\n    }\r\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\ubcf4\uc548 \uac15\ud654"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u2705 PKCE \uc801\uc6a9\uc73c\ub85c ",(0,i.jsx)(n.strong,{children:"Authorization Code Interception"})," \uacf5\uaca9 \ubc29\uc9c0"]}),"\n",(0,i.jsx)(n.li,{children:"\u2705 code_verifier\ub97c \uc54c\uc9c0 \ubabb\ud558\ub294 \uacf5\uaca9\uc790\ub294 \ud1a0\ud070 \uad50\ud658 \ubd88\uac00"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"3-redis-\uae30\ubc18-\uc774\uba54\uc77c-\uc778\uc99d-\uc2dc\uc2a4\ud15c",children:"3. Redis \uae30\ubc18 \uc774\uba54\uc77c \uc778\uc99d \uc2dc\uc2a4\ud15c"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'// Redis Hash \uad6c\uc870\ub85c \ucf54\ub4dc\uc640 \uc2dc\ub3c4 \ud69f\uc218 \uc77c\uad00\uc131 \ubcf4\uc7a5\r\npublic void saveCode(String email, String code, VerificationType type) {\r\n    String key = buildKey(email, type);\r\n\r\n    Map data = new HashMap<>();\r\n    data.put("code", code);\r\n    data.put("attemptCount", "0");\r\n\r\n    stringRedisTemplate.opsForHash().putAll(key, data);\r\n    stringRedisTemplate.expire(key, Duration.ofMinutes(5));\r\n}\r\n\r\n// HINCRBY \uc6d0\uc790\uc801 \uc5f0\uc0b0\uc73c\ub85c \ub3d9\uc2dc\uc131 \ubb38\uc81c \ud574\uacb0\r\npublic void verifyCode(String email, String inputCode, VerificationType type) {\r\n    String key = buildKey(email, type);\r\n\r\n    String savedCode = (String) stringRedisTemplate.opsForHash().get(key, "code");\r\n\r\n    if (savedCode.equals(inputCode)) {\r\n        stringRedisTemplate.delete(key);\r\n        return; // \uc778\uc99d \uc131\uacf5\r\n    }\r\n\r\n    // \uc2dc\ub3c4 \ud69f\uc218 \uc6d0\uc790\uc801 \uc99d\uac00\r\n    Long newAttemptCount = stringRedisTemplate.opsForHash()\r\n        .increment(key, "attemptCount", 1);\r\n\r\n    if (newAttemptCount > 5) {\r\n        stringRedisTemplate.delete(key);\r\n        throw new InvalidCodeException("\uc778\uc99d \uc2dc\ub3c4 \ud69f\uc218 \ucd08\uacfc");\r\n    }\r\n\r\n    throw new InvalidCodeException("\uc778\uc99d\ucf54\ub4dc \ubd88\uc77c\uce58 (\ub0a8\uc740 \uc2dc\ub3c4: " + (5 - newAttemptCount) + "\ud68c)");\r\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\ud575\uc2ec \uac1c\uc120"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u2705 Hash \uad6c\uc870\ub85c \ucf54\ub4dc\uc640 \uc2dc\ub3c4 \ud69f\uc218\ub97c \ud558\ub098\uc758 \ud0a4\ub85c \uad00\ub9ac \u2192 \uc77c\uad00\uc131 \ubcf4\uc7a5"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 HINCRBY \uc6d0\uc790\uc801 \uc5f0\uc0b0\uc73c\ub85c \ub3d9\uc2dc \uc694\uccad \uc2dc\uc5d0\ub3c4 \uc815\ud655\ud55c \uce74\uc6b4\ud305"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 TTL \uc790\ub3d9 \ub9cc\ub8cc\ub85c Redis \uba54\ubaa8\ub9ac \ud6a8\uc728 \ud5a5\uc0c1"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"4-gateway-\ub77c\uc6b0\ud305-\ubc0f-\uc778\uc99d-\ud544\ud130",children:"4. Gateway \ub77c\uc6b0\ud305 \ubc0f \uc778\uc99d \ud544\ud130"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'@Component\r\npublic class JwtAuthenticationFilter implements GatewayFilter {\r\n\r\n    @Override\r\n    public Mono filter(ServerWebExchange exchange, GatewayFilterChain chain) {\r\n        String token = extractToken(exchange.getRequest());\r\n\r\n        // JWT \uac80\uc99d (1\ud68c)\r\n        Claims claims = jwtTokenProvider.validateToken(token);\r\n\r\n        // \uc0ac\uc6a9\uc790 \uc815\ubcf4\ub97c \ud5e4\ub354\uc5d0 \ucd94\uac00\r\n        ServerHttpRequest modifiedRequest = exchange.getRequest()\r\n            .mutate()\r\n            .header("X-User-Id", claims.getSubject())\r\n            .header("X-User-Email", claims.get("email", String.class))\r\n            .build();\r\n\r\n        return chain.filter(exchange.mutate().request(modifiedRequest).build());\r\n    }\r\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\uc7a5\uc810"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u2705 Gateway\uc5d0\uc11c JWT \uac80\uc99d\uc744 1\ud68c\ub9cc \uc218\ud589 \u2192 \uac01 \uc11c\ube44\uc2a4\uc758 \uc778\uc99d \uc624\ubc84\ud5e4\ub4dc \uc81c\uac70"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 \ud5e4\ub354\ub85c \uc0ac\uc6a9\uc790 \uc815\ubcf4 \uc804\ub2ec \u2192 \uac01 \uc11c\ube44\uc2a4\ub294 \ud5e4\ub354\uc5d0\uc11c \ucd94\ucd9c\ub9cc"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"-\ud575\uc2ec-\uae30\uc220-\ub3c4\uc804",children:"\ud83d\udd25 \ud575\uc2ec \uae30\uc220 \ub3c4\uc804"}),"\n",(0,i.jsx)(n.h3,{id:"1\ufe0f\u20e3-\uc774\uba54\uc77c-\ubc1c\uc1a1-api-\uc751\ub2f5-\uc18d\ub3c4-92-\uac1c\uc120",children:"1\ufe0f\u20e3 \uc774\uba54\uc77c \ubc1c\uc1a1 API \uc751\ub2f5 \uc18d\ub3c4 92% \uac1c\uc120"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\ubb38\uc81c"}),": JavaMailSender.send()\uac00 \ub3d9\uae30 \ube14\ub85c\ud0b9 (\ud3c9\uade0 2~3\ucd08 \ub300\uae30)"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\ud574\uacb0"}),": Spring Event + @Async \ube44\ub3d9\uae30 \ucc98\ub9ac"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\ud56d\ubaa9"}),(0,i.jsx)(n.th,{children:"Before"}),(0,i.jsx)(n.th,{children:"After"}),(0,i.jsx)(n.th,{children:"\uac1c\uc120\uc728"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"API \uc751\ub2f5 \uc2dc\uac04"}),(0,i.jsx)(n.td,{children:"2.5\ucd08"}),(0,i.jsx)(n.td,{children:"0.2\ucd08"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"92% \u2193"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"\ub3d9\uc2dc \ucc98\ub9ac \uac00\ub2a5 \uc218"}),(0,i.jsx)(n.td,{children:"10 req/s"}),(0,i.jsx)(n.td,{children:"100+ req/s"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"10\ubc30 \u2191"})})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"./troubleshooting/email-async",children:"\uc0c1\uc138 \ubd84\uc11d \ubcf4\uae30 \u2192"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"2\ufe0f\u20e3-redis-hincrby\ub85c-\ub3d9\uc2dc\uc131-\ubb38\uc81c-\ud574\uacb0",children:"2\ufe0f\u20e3 Redis HINCRBY\ub85c \ub3d9\uc2dc\uc131 \ubb38\uc81c \ud574\uacb0"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\ubb38\uc81c"}),": GET \u2192 \uac80\uc99d \u2192 SET \uacfc\uc815\uc5d0\uc11c Race Condition \ubc1c\uc0dd"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\ud574\uacb0"}),": Redis Hash + HINCRBY \uc6d0\uc790\uc801 \uc5f0\uc0b0"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'// AS-IS: Race Condition \ubc1c\uc0dd\r\nint attemptCount = getAttemptCount(email);  // Thread A: 4, Thread B: 4\r\nattemptCount++;                             // Thread A: 5, Thread B: 5 (\uc798\ubabb!)\r\n\r\n// TO-BE: \uc6d0\uc790\uc801 \uc99d\uac00\r\nLong newAttemptCount = redisTemplate.opsForHash()\r\n    .increment(key, "attemptCount", 1);     // Thread A: 5, Thread B: 6 (\uc815\ud655!)\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"./troubleshooting/redis-concurrency",children:"\uc0c1\uc138 \ubd84\uc11d \ubcf4\uae30 \u2192"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"3\ufe0f\u20e3-refresh-token-\uad00\ub9ac-\uc804\ub7b5",children:"3\ufe0f\u20e3 Refresh Token \uad00\ub9ac \uc804\ub7b5"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\ubb38\uc81c"}),": JWT\uc758 Stateless \ud2b9\uc131\uc0c1 \ud1a0\ud070 \ud0c8\ucde8 \uc2dc \ub300\uc751 \uc5b4\ub824\uc6c0"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\ud574\uacb0"}),": Refresh Token\uc744 PostgreSQL\uc5d0 \uc800\uc7a5"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\ud56d\ubaa9"}),(0,i.jsx)(n.th,{children:"Redis \uc800\uc7a5"}),(0,i.jsx)(n.th,{children:(0,i.jsx)(n.strong,{children:"DB \uc800\uc7a5 (\ucc44\ud0dd)"})})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"\ub85c\uadf8\uc544\uc6c3 \uc989\uc2dc \ubb34\ud6a8\ud654"}),(0,i.jsx)(n.td,{children:"\u274c (TTL \ub9cc\ub8cc \ub300\uae30)"}),(0,i.jsx)(n.td,{children:"\u2705 (\uc989\uc2dc \uc0ad\uc81c)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"\ub85c\uadf8 \ucd94\uc801"}),(0,i.jsx)(n.td,{children:"\u274c (\ud718\ubc1c\uc131)"}),(0,i.jsx)(n.td,{children:"\u2705 (\uc601\uad6c \uc800\uc7a5)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"\ub2e8\uc77c \uae30\uae30 \ub85c\uadf8\uc778"}),(0,i.jsx)(n.td,{children:"\u274c"}),(0,i.jsx)(n.td,{children:"\u2705"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"./troubleshooting/refresh-token",children:"\uc0c1\uc138 \ubd84\uc11d \ubcf4\uae30 \u2192"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"-\uc8fc\uc694-\uc131\uacfc",children:"\ud83d\udcca \uc8fc\uc694 \uc131\uacfc"}),"\n",(0,i.jsx)(n.h3,{id:"\uc131\ub2a5-\ucd5c\uc801\ud654",children:"\uc131\ub2a5 \ucd5c\uc801\ud654"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u2705 \uc774\uba54\uc77c \ubc1c\uc1a1 API \uc751\ub2f5 \uc18d\ub3c4 ",(0,i.jsx)(n.strong,{children:"92% \uac1c\uc120"})," (2.5s \u2192 0.2s)"]}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Redis HINCRBY \uc6d0\uc790\uc801 \uc5f0\uc0b0\uc73c\ub85c \ub3d9\uc2dc\uc131 \uc81c\uc5b4"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Gateway \uc911\uc559 \uc778\uc99d\uc73c\ub85c \uac01 \uc11c\ube44\uc2a4\uc758 JWT \ud30c\uc2f1 \uc624\ubc84\ud5e4\ub4dc \uc81c\uac70"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"\ubcf4\uc548-\uac15\ud654",children:"\ubcf4\uc548 \uac15\ud654"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u2705 PKCE \uc801\uc6a9\uc73c\ub85c OAuth2 Authorization Code Interception \ubc29\uc9c0"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Refresh Token DB \uc800\uc7a5\uc73c\ub85c \ud1a0\ud070 \ud0c8\ucde8 \uc2dc \uc989\uc2dc \ub300\uc751"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Gateway \ub2e8\uc77c JWT \uac80\uc99d\uc73c\ub85c \uc778\uc99d \uc77c\uad00\uc131 \ud655\ubcf4"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"\uc544\ud0a4\ud14d\ucc98",children:"\uc544\ud0a4\ud14d\ucc98"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u2705 MSA \uae30\ubc18 \ub3c5\ub9bd\uc801\uc778 \uc11c\ube44\uc2a4 \uad6c\uc870"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 \uc774\ubca4\ud2b8 \uae30\ubc18 \ube44\ub3d9\uae30 \ucc98\ub9ac\ub85c \uc2dc\uc2a4\ud15c \uc751\ub2f5\uc131 \ud5a5\uc0c1"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Kubernetes\ub97c \ud65c\uc6a9\ud55c \uc790\ub3d9 \ubc30\ud3ec \ubc0f \uc2a4\ucf00\uc77c\ub9c1"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"-\ubc30\uc6b4-\uc810",children:"\ud83d\udca1 \ubc30\uc6b4 \uc810"}),"\n",(0,i.jsx)(n.h3,{id:"msa-\uc124\uacc4-\uacbd\ud5d8",children:"MSA \uc124\uacc4 \uacbd\ud5d8"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\uc11c\ube44\uc2a4 \uac04 \ud1b5\uc2e0 \ubc0f \ub370\uc774\ud130 \uc77c\uad00\uc131 \uad00\ub9ac"}),"\n",(0,i.jsx)(n.li,{children:"Gateway\ub97c \ud1b5\ud55c \uc778\uc99d \uc815\ubcf4 \uc804\ub2ec \ubc29\ubc95"}),"\n",(0,i.jsx)(n.li,{children:"\ub3c5\ub9bd\uc801\uc778 \uc11c\ube44\uc2a4 \ubc30\ud3ec \ubc0f \ubc84\uc804 \uad00\ub9ac"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"\ubcf4\uc548-\uc911\uc2ec-\uc124\uacc4",children:"\ubcf4\uc548 \uc911\uc2ec \uc124\uacc4"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"OAuth2 + PKCE \ud50c\ub85c\uc6b0\uc758 \uc774\ud574\uc640 \uad6c\ud604"}),"\n",(0,i.jsx)(n.li,{children:"JWT + Refresh Token \uad00\ub9ac \uc804\ub7b5"}),"\n",(0,i.jsx)(n.li,{children:"CSRF/XSS \ub300\uc751 \ubc29\ubc95"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"\uc131\ub2a5-\ucd5c\uc801\ud654-1",children:"\uc131\ub2a5 \ucd5c\uc801\ud654"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\uc774\ubca4\ud2b8 \uae30\ubc18 \ube44\ub3d9\uae30 \ucc98\ub9ac\uc758 \ud6a8\uacfc"}),"\n",(0,i.jsx)(n.li,{children:"Redis\ub97c \ud65c\uc6a9\ud55c \ub3d9\uc2dc\uc131 \uc81c\uc5b4"}),"\n",(0,i.jsx)(n.li,{children:"ThreadPoolTaskExecutor \uc124\uc815 \ubc0f \ud29c\ub2dd"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"-\uad00\ub828-\ub9c1\ud06c",children:"\ud83d\udd17 \uad00\ub828 \ub9c1\ud06c"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/JocketDan/jocketdanBackend",children:"GitHub Repository"})}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}}}]);