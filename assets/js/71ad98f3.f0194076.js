"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[2054],{1512(e){e.exports=JSON.parse('{"permalink":"/blog/redis-email-verification","source":"@site/blog/posts/redis-email-verification.md","title":"\uc774\uba54\uc77c \uc778\uc99d\uc5d0\uc11c Redis\uac00 \uac15\uc810\uc744 \uac16\ub294 \uc774\uc720: TTL\uacfc \uc6d0\uc790 \uc5f0\uc0b0","description":"\\"\uc774\uba54\uc77c \uc778\uc99d \ucf54\ub4dc\ub294 \uc65c DB\uac00 \uc544\ub2cc Redis\uc5d0 \uc800\uc7a5\ud560\uae4c?\\"","date":"2025-10-10T00:00:00.000Z","tags":[],"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"redis-email-verification","title":"\uc774\uba54\uc77c \uc778\uc99d\uc5d0\uc11c Redis\uac00 \uac15\uc810\uc744 \uac16\ub294 \uc774\uc720: TTL\uacfc \uc6d0\uc790 \uc5f0\uc0b0","date":"2025-10-10T00:00:00.000Z","categories":["Redis","Backend","Security"],"tags":[]},"unlisted":false,"prevItem":{"title":"\ub808\ub514\uc2a4\ub294 \uc2f1\uae00\uc2a4\ub808\ub4dc\uc778\ub370 \uc65c \ub3d9\uc2dc\uc131 \uc81c\uc5b4\uac00 \ud544\uc694\ud560\uae4c?","permalink":"/blog/redis-concurrency"},"nextItem":{"title":"\ubcf5\uc7a1\ud55c \uac80\uc0c9 \ucffc\ub9ac, JPA vs MyBatis \uc131\ub2a5 \ube44\uad50\uc640 \ud558\uc774\ube0c\ub9ac\ub4dc \uc804\ub7b5","permalink":"/blog/jpa-mybatis-hybrid-strategy"}}')},7922(e,n,r){r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>o,frontMatter:()=>t,metadata:()=>i,toc:()=>a});var i=r(1512),s=r(4848),d=r(8453);const t={slug:"redis-email-verification",title:"\uc774\uba54\uc77c \uc778\uc99d\uc5d0\uc11c Redis\uac00 \uac15\uc810\uc744 \uac16\ub294 \uc774\uc720: TTL\uacfc \uc6d0\uc790 \uc5f0\uc0b0",date:new Date("2025-10-10T00:00:00.000Z"),categories:["Redis","Backend","Security"],tags:[]},l="\uc774\uba54\uc77c \uc778\uc99d\uc5d0\uc11c Redis\uac00 \uac15\uc810\uc744 \uac16\ub294 \uc774\uc720",c={authorsImageUrls:[]},a=[{value:"1. \uc774\uba54\uc77c \uc778\uc99d\uc758 \uc694\uad6c\uc0ac\ud56d",id:"1-\uc774\uba54\uc77c-\uc778\uc99d\uc758-\uc694\uad6c\uc0ac\ud56d",level:2},{value:"\ube44\uc988\ub2c8\uc2a4 \uc694\uad6c\uc0ac\ud56d",id:"\ube44\uc988\ub2c8\uc2a4-\uc694\uad6c\uc0ac\ud56d",level:4},{value:"DB vs Redis \ube44\uad50",id:"db-vs-redis-\ube44\uad50",level:4},{value:"2. Redis TTL",id:"2-redis-ttl",level:2},{value:"DB\ub85c \uad6c\ud604 \uc2dc",id:"db\ub85c-\uad6c\ud604-\uc2dc",level:4},{value:"redis\uc758 \uacbd\uc6b0",id:"redis\uc758-\uacbd\uc6b0",level:4},{value:"Redis\uac00 \ube60\ub978 \uc774\uc720",id:"redis\uac00-\ube60\ub978-\uc774\uc720",level:4},{value:"3. Redis\ub97c \ud1b5\ud55c \uc774\uba54\uc77c \uc778\uc99d \uad6c\ud604",id:"3-redis\ub97c-\ud1b5\ud55c-\uc774\uba54\uc77c-\uc778\uc99d-\uad6c\ud604",level:2},{value:"\ub370\uc774\ud130 \uad6c\uc870 \uc124\uacc4",id:"\ub370\uc774\ud130-\uad6c\uc870-\uc124\uacc4",level:4},{value:"\ucf54\ub4dc \uad6c\ud604(java)",id:"\ucf54\ub4dc-\uad6c\ud604java",level:4},{value:"\uc8fc\uc758\uc810 1) \ub9cc\ub8cc\ub41c \ud0a4\uc5d0 \ub300\ud55c <code>increment</code>",id:"\uc8fc\uc758\uc810-1-\ub9cc\ub8cc\ub41c-\ud0a4\uc5d0-\ub300\ud55c-increment",level:3},{value:"\uc8fc\uc758\uc810 2) Hash vs String \uad6c\uc870 \ube44\uad50",id:"\uc8fc\uc758\uc810-2-hash-vs-string-\uad6c\uc870-\ube44\uad50",level:3},{value:"4. \uc815\ub9ac",id:"4-\uc815\ub9ac",level:2}];function h(e){const n={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:'"\uc774\uba54\uc77c \uc778\uc99d \ucf54\ub4dc\ub294 \uc65c DB\uac00 \uc544\ub2cc Redis\uc5d0 \uc800\uc7a5\ud560\uae4c?"'}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"1-\uc774\uba54\uc77c-\uc778\uc99d\uc758-\uc694\uad6c\uc0ac\ud56d",children:"1. \uc774\uba54\uc77c \uc778\uc99d\uc758 \uc694\uad6c\uc0ac\ud56d"}),"\n",(0,s.jsx)(n.h4,{id:"\ube44\uc988\ub2c8\uc2a4-\uc694\uad6c\uc0ac\ud56d",children:"\ube44\uc988\ub2c8\uc2a4 \uc694\uad6c\uc0ac\ud56d"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\ud56d\ubaa9"}),(0,s.jsx)(n.th,{children:"\uc694\uad6c\uc0ac\ud56d"}),(0,s.jsx)(n.th,{children:"\uc774\uc720"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"\ube60\ub978 \uc751\ub2f5"})}),(0,s.jsx)(n.td,{children:"\ube60\ub978 \uc751\ub2f5"}),(0,s.jsx)(n.td,{children:"\uc0ac\uc6a9\uc790 \uacbd\ud5d8 (UX)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"\uc790\ub3d9 \ub9cc\ub8cc"})}),(0,s.jsx)(n.td,{children:"5~10\ubd84 \ud6c4 \uc0ad\uc81c"}),(0,s.jsx)(n.td,{children:"\ubcf4\uc548\uacfc \uba54\ubaa8\ub9ac \uc808\uc57d"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"\uc2dc\ub3c4 \uc81c\ud55c"})}),(0,s.jsx)(n.td,{children:"5\ud68c \ucd08\uacfc \uc2dc \ucc28\ub2e8"}),(0,s.jsx)(n.td,{children:"\ubb34\ucc28\ubcc4 \ub300\uc785 \uacf5\uaca9 \ubc29\uc9c0"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"\uc77c\uc2dc\uc131"})}),(0,s.jsx)(n.td,{children:"\uc778\uc99d \uc644\ub8cc \ud6c4 \uc989\uc2dc \uc0ad\uc81c"}),(0,s.jsx)(n.td,{children:"\uac1c\uc778\uc815\ubcf4 \ucd5c\uc18c \ubcf4\uad00"})]})]})]}),"\n",(0,s.jsx)(n.h4,{id:"db-vs-redis-\ube44\uad50",children:"DB vs Redis \ube44\uad50"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\uae30\uc900"}),(0,s.jsx)(n.th,{children:"MySQL/PostgreSQL"}),(0,s.jsx)(n.th,{children:"Redis"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"\uc77d\uae30 \uc18d\ub3c4"})}),(0,s.jsx)(n.td,{children:"\uc0c1\ub300\uc801\uc73c\ub85c \ub290\ub9bc(\ub514\uc2a4\ud06c I/O)"}),(0,s.jsx)(n.td,{children:"\uc0c1\ub300\uc801\uc73c\ub85c \ube60\ub984(\uba54\ubaa8\ub9ac)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"TTL \uc9c0\uc6d0"})}),(0,s.jsx)(n.td,{children:"\u274c"}),(0,s.jsx)(n.td,{children:"\u2705 (\uc790\ub3d9 \ub9cc\ub8cc)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"\ub3d9\uc2dc\uc131"})}),(0,s.jsx)(n.td,{children:"Row Lock \ud544\uc694"}),(0,s.jsx)(n.td,{children:"\uc6d0\uc790 \uc5f0\uc0b0 \uae30\ubcf8 \uc9c0\uc6d0"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"\uc601\uc18d\uc131"})}),(0,s.jsx)(n.td,{children:"\uc7a5\uae30 \ubcf4\uad00"}),(0,s.jsx)(n.td,{children:"RDB/AOF\ub85c \ubc31\uc5c5 \uac00\ub2a5"})]})]})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\uc77c\uc2dc\uc801 \ub370\uc774\ud130 + \ube60\ub978 \uc18d\ub3c4 + \uc790\ub3d9 \ub9cc\ub8cc"}),"\uc5d0\uc11c\ub294 ",(0,s.jsx)(n.strong,{children:"Redis\uac00 \uc555\ub3c4\uc801 \uc6b0\uc704"})]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"2-redis-ttl",children:"2. Redis TTL"}),"\n",(0,s.jsx)(n.h4,{id:"db\ub85c-\uad6c\ud604-\uc2dc",children:"DB\ub85c \uad6c\ud604 \uc2dc"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"CREATE TABLE email_codes (\r\n    email VARCHAR(255),\r\n    code VARCHAR(10),\r\n    expired_at TIMESTAMP\r\n);\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\uc870\ud68c\ud560 \ub54c\ub9c8\ub2e4 ",(0,s.jsx)(n.code,{children:"expired_at > NOW()"})," \uc870\uac74 \uccb4\ud06c"]}),"\n",(0,s.jsx)(n.li,{children:"\ubc30\uce58 \uc791\uc5c5\uc73c\ub85c \uc218\ub3d9 \uc0ad\uc81c \ud544\uc694 (\ucf54\ub4dc + \uc2a4\ucf00\uc904\ub7ec \uc124\uc815)"}),"\n",(0,s.jsx)(n.li,{children:"\ub9cc\ub8cc\ub41c \ub370\uc774\ud130\uac00 \uc989\uc2dc \uc0ad\uc81c\ub418\uc9c0 \uc54a\uc74c (\ub514\uc2a4\ud06c \uacf5\uac04 \ub0ad\ube44)"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"redis\uc758-\uacbd\uc6b0",children:"redis\uc758 \uacbd\uc6b0"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'// \uc778\uc99d \ucf54\ub4dc \uc800\uc7a5 + 10\ubd84 TTL \uc124\uc815\r\nredisTemplate.opsForValue()\r\n    .set("email:code:" + email, code, 10, TimeUnit.MINUTES);\n'})}),"\n",(0,s.jsx)(n.h4,{id:"redis\uac00-\ube60\ub978-\uc774\uc720",children:"Redis\uac00 \ube60\ub978 \uc774\uc720"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"MySQL:\r\n\uc694\uccad \u2192 \ub514\uc2a4\ud06c I/O \u2192 \uc778\ub371\uc2a4 \uac80\uc0c9 \u2192 Row Lock \u2192 \uacb0\uacfc \ubc18\ud658"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Redis:\r\n\uc694\uccad \u2192 \uba54\ubaa8\ub9ac \ud574\uc2dc \uc870\ud68c \u2192 \uacb0\uacfc \ubc18\ud658"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"3-redis\ub97c-\ud1b5\ud55c-\uc774\uba54\uc77c-\uc778\uc99d-\uad6c\ud604",children:"3. Redis\ub97c \ud1b5\ud55c \uc774\uba54\uc77c \uc778\uc99d \uad6c\ud604"}),"\n",(0,s.jsx)(n.h4,{id:"\ub370\uc774\ud130-\uad6c\uc870-\uc124\uacc4",children:"\ub370\uc774\ud130 \uad6c\uc870 \uc124\uacc4"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'Key: email:verification:{email}\r\n\r\nFields:\r\n  - code: "A1B2C3"\r\n  - attempts: 3\r\n  - created_at: "2025-01-27T10:30:00"\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Hash \uad6c\uc870\uc758 \uc7a5\uc810"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\ub370\uc774\ud130 \uc751\uc9d1\ub3c4"}),": \uac19\uc740 \uc774\uba54\uc77c\uc758 \ubaa8\ub4e0 \uc815\ubcf4\ub97c \ud55c \uacf3\uc5d0 \uad00\ub9ac"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\ubd80\ubd84 \uc5c5\ub370\uc774\ud2b8"}),": ",(0,s.jsx)(n.code,{children:"code"}),"\ub294 \uadf8\ub300\ub85c \ub450\uace0 ",(0,s.jsx)(n.code,{children:"attempts"}),"\ub9cc \uc99d\uac00 \uac00\ub2a5"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\uba54\ubaa8\ub9ac \ud6a8\uc728"}),": \uc791\uc740 Hash\ub294 Ziplist\ub85c \uc555\ucd95\ub418\uc5b4 \uba54\ubaa8\ub9ac \uc808\uc57d"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"\ucf54\ub4dc-\uad6c\ud604java",children:"\ucf54\ub4dc \uad6c\ud604(java)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@Service\r\n@RequiredArgsConstructor\r\npublic class EmailVerificationService {\r\n\r\n    private static final String KEY_PREFIX = "email:verification:"; // \ud0a4 \uad6c\uc870\r\n    private static final int MAX_ATTEMPTS = 5; // \ucd5c\ub300 \ud69f\uc218\r\n    private static final int CODE_EXPIRY_MINUTES = 10; // \ub9cc\ub8cc \uc2dc\uac04\r\n\r\n    private final RedisTemplate redisTemplate;\r\n\r\n    // 1) \uc778\uc99d \ucf54\ub4dc \uc0dd\uc131 \ubc0f \uc800\uc7a5(hash)\r\n    public String generateCode(String email) {\r\n        String code = generateRandomCode();\r\n        String key = KEY_PREFIX + email;\r\n\r\n        Map data = new HashMap<>();\r\n        data.put("code", code);\r\n        data.put("attempts", 0);\r\n        data.put("created_at", LocalDateTime.now().toString());\r\n\r\n        redisTemplate.opsForHash().putAll(key, data);\r\n        redisTemplate.expire(key, CODE_EXPIRY_MINUTES, TimeUnit.MINUTES);\r\n\r\n        return code;\r\n    }\r\n\r\n    // 2) \uc778\uc99d \ucf54\ub4dc \uac80\uc99d(Redis \uc790\uccb4)\r\n    public boolean verify(String email, String inputCode) {\r\n        String key = KEY_PREFIX + email;\r\n\r\n        // 1. \ud0a4 \uc874\uc7ac \uc5ec\ubd80 \ud655\uc778\r\n        if (!Boolean.TRUE.equals(redisTemplate.hasKey(key))) {\r\n            throw new CodeExpiredException("\uc778\uc99d \ucf54\ub4dc\uac00 \ub9cc\ub8cc\ub418\uc5c8\uac70\ub098 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.");\r\n        }\r\n\r\n        // 2. \uc2dc\ub3c4 \ud69f\uc218 \uc99d\uac00\r\n        Long attempts = redisTemplate.opsForHash()\r\n            .increment(key, "attempts", 1);\r\n\r\n        // 3. \ucd5c\ub300 \uc2dc\ub3c4 \ud69f\uc218 \uccb4\ud06c\r\n        if (attempts > MAX_ATTEMPTS) {\r\n            throw new TooManyAttemptsException(\r\n                "\uc778\uc99d \uc2dc\ub3c4 \ud69f\uc218\uac00 \ucd08\uacfc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."\r\n            );\r\n        }\r\n\r\n        // 4. \ucf54\ub4dc \uc77c\uce58 \ud655\uc778\r\n        String storedCode = (String) redisTemplate.opsForHash()\r\n            .get(key, "code");\r\n\r\n        if (storedCode == null) {\r\n            throw new CodeExpiredException("\uc778\uc99d \ucf54\ub4dc\uac00 \ub9cc\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");\r\n        }\r\n\r\n        boolean isValid = storedCode.equals(inputCode);\r\n\r\n        // 5. \uc778\uc99d \uc131\uacf5 \uc2dc \uc989\uc2dc \uc0ad\uc81c\r\n        if (isValid) {\r\n            redisTemplate.delete(key);\r\n        }\r\n\r\n        return isValid;\r\n    }\r\n\r\n    // 3) \uc7ac\ubc1c\uae09 \uc2dc, \uc774\uc804 \ucf54\ub4dc \ubb34\ud6a8\ud654\r\n    public String regenerateCode(String email) {\r\n        String key = KEY_PREFIX + email;\r\n        redisTemplate.delete(key);\r\n        return generateCode(email);\r\n    }\r\n\r\n    // 4) IP\ub2f9 1\ubd84\uc5d0 2\ubc88 \uc694\uccad \uac00\ub2a5\r\n    public void checkRateLimit(String ip) {\r\n        String key = "rate:limit:" + ip;\r\n        Long requests = redisTemplate.opsForValue().increment(key);\r\n\r\n        if (requests == 1) { // \uccab \uc694\uccad \uc2dc TTL \uc124\uc815\r\n        redisTemplate.expire(key, 1, TimeUnit.MINUTES);\r\n        }\r\n\r\n        if (requests > 2) {\r\n            throw new RateLimitExceededException("\ub108\ubb34 \ub9ce\uc740 \uc694\uccad\uc785\ub2c8\ub2e4. 1\ubd84 \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud558\uc138\uc694.");\r\n         }\r\n    }\r\n\r\n    // 5) \uc778\uc99d\ucf54\ub4dc \uc0dd\uc131\r\n    private String generateRandomCode() {\r\n        return RandomStringUtils.randomAlphanumeric(6).toUpperCase();\r\n    }\r\n}\n'})}),"\n",(0,s.jsxs)(n.h3,{id:"\uc8fc\uc758\uc810-1-\ub9cc\ub8cc\ub41c-\ud0a4\uc5d0-\ub300\ud55c-increment",children:["\uc8fc\uc758\uc810 1) \ub9cc\ub8cc\ub41c \ud0a4\uc5d0 \ub300\ud55c ",(0,s.jsx)(n.code,{children:"increment"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'Long attempts = redisTemplate.opsForHash()\r\n    .increment(key, "attempts", 1);\n'})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\uc778\uc99d \ucf54\ub4dc\uac00 \ub9cc\ub8cc\ub418\uc5b4\ub3c4 \uacc4\uc18d \uac80\uc99d \uc694\uccad\uc774 \uc62c \uacbd\uc6b0,"}),"\n",(0,s.jsx)(n.li,{children:"\uc704\uc758 \ucf54\ub4dc\uc5d0\uc11c\ub294 \uc0c8\ub85c \ud0a4\ub97c \uc0dd\uc131"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\uacb0\uacfc:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"code"})," \ud544\ub4dc\ub294 \uc5c6\uace0 ",(0,s.jsx)(n.code,{children:"attempts"})," \ud544\ub4dc\ub9cc \uc788\ub294 ",(0,s.jsx)(n.strong,{children:"\ud0a4"})," \uc0dd\uc131"]}),"\n",(0,s.jsxs)(n.li,{children:["TTL\ub3c4 \uc5c6\uc5b4\uc11c ",(0,s.jsx)(n.strong,{children:"\uc601\uc6d0\ud788 \uba54\ubaa8\ub9ac\uc5d0 \ub0a8\uc74c"})," (\uba54\ubaa8\ub9ac \ub204\uc218 \ubc1c\uc0dd)"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\ud574\uacb0"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'// \ud0a4 \uc874\uc7ac \uc5ec\ubd80 \uba3c\uc800 \uccb4\ud06c\r\nif (!Boolean.TRUE.equals(redisTemplate.hasKey(key))) {\r\n    throw new CodeExpiredException("\uc778\uc99d \ucf54\ub4dc\uac00 \ub9cc\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");\r\n}\r\n\r\n// \uc774\ud6c4 increment \uc2e4\ud589\n'})}),"\n",(0,s.jsx)(n.h3,{id:"\uc8fc\uc758\uc810-2-hash-vs-string-\uad6c\uc870-\ube44\uad50",children:"\uc8fc\uc758\uc810 2) Hash vs String \uad6c\uc870 \ube44\uad50"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Hash \uad6c\uc870\uc758 \uacbd\uc6b0"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\ub370\uc774\ud130 \uc751\uc9d1\ub3c4 \uc88b\uc74c (\ud55c \uacf3\uc5d0 \ubaa8\ub4e0 \uc815\ubcf4)"}),"\n",(0,s.jsx)(n.li,{children:"\ucf54\ub4dc\uc640 \uc2dc\ub3c4 \ud69f\uc218\ub294 \uac19\uc740 \uc0dd\uba85 \uc8fc\uae30"}),"\n",(0,s.jsx)(n.li,{children:"\ubd80\ubd84 \uc5c5\ub370\uc774\ud2b8 \ud6a8\uc728\uc801"}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"\uac1c\ubcc4 \ud544\ub4dc\uc5d0 \ub2e4\ub978 TTL\uc744 \uac78 \uc218 \uc5c6\uc74c"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"String \uad6c\uc870\uc758 \uacbd\uc6b0"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\ud544\ub4dc\ub9c8\ub2e4 ",(0,s.jsx)(n.strong,{children:"\ub2e4\ub978 TTL"}),"\uc774 \ud544\uc694\ud560 \ub54c\ub9cc \uace0\ub824"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"4-\uc815\ub9ac",children:"4. \uc815\ub9ac"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"\ub370\uc774\ud130\uc758 \uc0dd\uba85 \uc8fc\uae30\uac00 \uc9e7\uc740 \ub370\uc774\ud130(\uc778\uc99d \ucf54\ub4dc)\uc758 \uacbd\uc6b0 redis\uac00 \ucd5c\uc801\uc784"}),"\n"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\uc6b4\uc601 \ud6a8\uc728\uc131:"}),"\r\n\ubcc4\ub3c4\uc758 Batch \uc791\uc5c5\uc774\ub098 \uc2a4\ucf00\uc904\ub7ec \uc5c6\uc774\ub3c4 TTL\uc744 \ud1b5\ud574 \ub9cc\ub8cc \ub370\uc774\ud130\ub97c \uc790\ub3d9 \uc815\ub9ac\ud568"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\uc131\ub2a5 \ucd5c\uc801\ud654:"}),"\r\n\uc778\uc99d \uacfc\uc815\uc5d0\uc11c \ubc1c\uc0dd\ud558\ub294 \ube48\ubc88\ud55c \uc4f0\uae30/\uc77d\uae30 \uc791\uc5c5\uc774 \uba54\ubaa8\ub9ac \ub0b4\uc5d0\uc11c \ucc98\ub9ac\ub418\uc5b4 DB \ubd80\ud558\uac00 \uc5c6\uc74c"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\ubcf4\uc548:"}),"\r\n\uc6d0\uc790\uc801 \uc5f0\uc0b0\uc744 \ud65c\uc6a9\ud574 \ubd84\uc0b0 \ud658\uacbd\uc5d0\uc11c\ub3c4 \uc815\ud655\ud55c \uce74\uc6b4\ud305 \uac00\ub2a5"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\ube44\uc6a9 \uc808\uac10:"}),"\r\n\uc77c\uc2dc\uc801\uc778 \ub370\uc774\ud130\ub97c \uc704\ud574 RDB\uc758 \ucee4\ub125\uc158\uacfc \uc800\uc7a5 \uacf5\uac04\uc744 \ub0ad\ube44\ud558\uc9c0 \uc54a\uc74c"]}),"\n"]})]})}function o(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453(e,n,r){r.d(n,{R:()=>t,x:()=>l});var i=r(6540);const s={},d=i.createContext(s);function t(e){const n=i.useContext(d);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),i.createElement(d.Provider,{value:n},e.children)}}}]);