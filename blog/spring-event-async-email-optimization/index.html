<!doctype html>
<html lang="ko" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">ì´ë©”ì¼ ë°œì†¡ API ì‘ë‹µ ì†ë„ ê°œì„ : Spring Eventì™€ ë¹„ë™ê¸° ì²˜ë¦¬ | ì‹ ê°•í¬ | Backend Developer</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://KKangHHee.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://KKangHHee.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://KKangHHee.github.io/blog/spring-event-async-email-optimization"><meta data-rh="true" property="og:locale" content="ko"><meta data-rh="true" name="docusaurus_locale" content="ko"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="ko"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="ì´ë©”ì¼ ë°œì†¡ API ì‘ë‹µ ì†ë„ ê°œì„ : Spring Eventì™€ ë¹„ë™ê¸° ì²˜ë¦¬ | ì‹ ê°•í¬ | Backend Developer"><meta data-rh="true" name="description" content="SMTP ë™ê¸° í˜¸ì¶œë¡œ ì¸í•´ 2.5ì´ˆ ê±¸ë¦¬ë˜ ì¸ì¦ APIë¥¼"><meta data-rh="true" property="og:description" content="SMTP ë™ê¸° í˜¸ì¶œë¡œ ì¸í•´ 2.5ì´ˆ ê±¸ë¦¬ë˜ ì¸ì¦ APIë¥¼"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2025-12-10T00:00:00.000Z"><link data-rh="true" rel="canonical" href="https://KKangHHee.github.io/blog/spring-event-async-email-optimization"><link data-rh="true" rel="alternate" href="https://KKangHHee.github.io/blog/spring-event-async-email-optimization" hreflang="ko"><link data-rh="true" rel="alternate" href="https://KKangHHee.github.io/blog/spring-event-async-email-optimization" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://KKangHHee.github.io/blog/spring-event-async-email-optimization","mainEntityOfPage":"https://KKangHHee.github.io/blog/spring-event-async-email-optimization","url":"https://KKangHHee.github.io/blog/spring-event-async-email-optimization","headline":"ì´ë©”ì¼ ë°œì†¡ API ì‘ë‹µ ì†ë„ ê°œì„ : Spring Eventì™€ ë¹„ë™ê¸° ì²˜ë¦¬","name":"ì´ë©”ì¼ ë°œì†¡ API ì‘ë‹µ ì†ë„ ê°œì„ : Spring Eventì™€ ë¹„ë™ê¸° ì²˜ë¦¬","description":"SMTP ë™ê¸° í˜¸ì¶œë¡œ ì¸í•´ 2.5ì´ˆ ê±¸ë¦¬ë˜ ì¸ì¦ APIë¥¼","datePublished":"2025-12-10T00:00:00.000Z","author":[],"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://KKangHHee.github.io/blog","name":"Troubleshooting & Learning"}}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="ì‹ ê°•í¬ | Backend Developer RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="ì‹ ê°•í¬ | Backend Developer Atom Feed"><link rel="stylesheet" href="/assets/css/styles.00259b7c.css">
<script src="/assets/js/runtime~main.1fabbc67.js" defer="defer"></script>
<script src="/assets/js/main.2045941f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="ë³¸ë¬¸ìœ¼ë¡œ ê±´ë„ˆë›°ê¸°"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">ë³¸ë¬¸ìœ¼ë¡œ ê±´ë„ˆë›°ê¸°</a></div><nav aria-label="ë©”ì¸" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="ì‚¬ì´ë“œë°” í¼ì¹˜ê±°ë‚˜ ì ‘ê¸°" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">Kang-hee.log</b></a><a class="navbar__item navbar__link" href="/resume">ğŸ“„ Resume</a><a class="navbar__item navbar__link" href="/docs/projects/">ğŸ“ Projects</a><a class="navbar__item navbar__link" href="/blog/index">âœï¸ Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/KKangHHee" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="ì–´ë‘ìš´ ëª¨ë“œì™€ ë°ì€ ëª¨ë“œ ì „í™˜í•˜ê¸° (í˜„ì¬ system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><main class="col col--9 col--offset-1"><article class=""><header><h1 class="title_f1Hy">ì´ë©”ì¼ ë°œì†¡ API ì‘ë‹µ ì†ë„ ê°œì„ : Spring Eventì™€ ë¹„ë™ê¸° ì²˜ë¦¬</h1><div class="container_mt6G margin-vert--md"><time datetime="2025-12-10T00:00:00.000Z">2025ë…„ 12ì›” 10ì¼</time></div></header><div id="__blog-post-container" class="markdown"><blockquote>
<p>SMTP ë™ê¸° í˜¸ì¶œë¡œ ì¸í•´ 2.5ì´ˆ ê±¸ë¦¬ë˜ ì¸ì¦ APIë¥¼ <br>
Spring Eventì™€ @Asyncë¥¼ í™œìš©í•œ ë¹„ë™ê¸° ì²˜ë¦¬ë¡œ <strong>ì‘ë‹µ ì‹œê°„ì„ 0.2ì´ˆë¡œ ë‹¨ì¶•</strong>í•˜ê³ , ì²˜ë¦¬ëŸ‰ì„ í–¥ìƒì‹œí‚¨ ê³¼ì •ì…ë‹ˆë‹¤.</p>
</blockquote>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-ë¬¸ì œ-ìƒí™©ë™ê¸°-ë¸”ë¡œí‚¹-ë°©ì‹">1. ë¬¸ì œ ìƒí™©(ë™ê¸° ë¸”ë¡œí‚¹ ë°©ì‹)<a href="#1-ë¬¸ì œ-ìƒí™©ë™ê¸°-ë¸”ë¡œí‚¹-ë°©ì‹" class="hash-link" aria-label="1. ë¬¸ì œ ìƒí™©(ë™ê¸° ë¸”ë¡œí‚¹ ë°©ì‹)ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="1. ë¬¸ì œ ìƒí™©(ë™ê¸° ë¸”ë¡œí‚¹ ë°©ì‹)ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ì´ˆê¸°-ì½”ë“œ">ì´ˆê¸° ì½”ë“œ<a href="#ì´ˆê¸°-ì½”ë“œ" class="hash-link" aria-label="ì´ˆê¸° ì½”ë“œì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="ì´ˆê¸° ì½”ë“œì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h3>
<ul>
<li class="">ì²˜ìŒì—ëŠ” <strong>ì €ì¥-ë°œì†¡</strong>ì—ë§Œ ì´ˆì ì„ ë§ì¶° ì•„ë˜ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.</li>
</ul>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">VerificationService</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">createAndSendCode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">String</span><span class="token plain"> email</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">VerificationType</span><span class="token plain"> type</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// 1. ì¸ì¦ ì½”ë“œ ìƒì„± ë° Redis ì €ì¥ (0.1ì´ˆ)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">String</span><span class="token plain"> code </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">generateRandomCode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        redisService</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">saveCode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">email</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> code</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> type</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// 2. ì´ë©”ì¼ ë°œì†¡ - SMTP ì„œë²„ ì‘ë‹µ ëŒ€ê¸°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        emailService</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">sendVerificationCode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">email</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> code</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> type</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p><strong>ë¬¸ì œì </strong></p>
<ul>
<li class=""><code>JavaMailSender.send()</code> ë©”ì„œë“œëŠ” Sync-Blockingë°©ì‹<!-- -->
<ol>
<li class="">SMTP ì„œë²„ê°€ ì‘ë‹µí•  ë•Œê¹Œì§€ API ìš”ì²­ ìŠ¤ë ˆë“œê°€ ëŒ€ê¸°(ë¸”ë¡œí‚¹)</li>
<li class="">ì‚¬ìš©ì ëŒ€ê¸° ì‹œê°„ ì¦ê°€ (UX ì•…í™”)</li>
<li class="">ë™ì‹œ ìš”ì²­ ì‹œ ì²˜ë¦¬ëŸ‰ ê°ì†Œ</li>
<li class="">SMTP ì„œë²„ ì¥ì•  ì‹œ API ì „ì²´ê°€ ì˜í–¥</li>
</ol>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-í•µì‹¬-ê°œë…-ì •ë¦¬">2. í•µì‹¬ ê°œë… ì •ë¦¬<a href="#2-í•µì‹¬-ê°œë…-ì •ë¦¬" class="hash-link" aria-label="2. í•µì‹¬ ê°œë… ì •ë¦¬ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="2. í•µì‹¬ ê°œë… ì •ë¦¬ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h2>
<blockquote>
<p>í•´ê²°ì— ì•ì„œ í•„ìš”í•œ <strong>ë™ê¸°/ë¹„ë™ê¸°</strong>, <strong>ë¸”ë¡œí‚¹/ë…¼ë¸”ë¡œí‚¹</strong>, ê·¸ë¦¬ê³  <strong>ThreadPool</strong>ì˜ ê°œë…ì„ ë¨¼ì € ì •ë¦¬í•˜ê² ìŠµë‹ˆë‹¤.</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-ë™ê¸°-vs-ë¹„ë™ê¸°-ì œì–´ê¶Œì˜-ê´€ì ">1) ë™ê¸° vs ë¹„ë™ê¸° (ì œì–´ê¶Œì˜ ê´€ì )<a href="#1-ë™ê¸°-vs-ë¹„ë™ê¸°-ì œì–´ê¶Œì˜-ê´€ì " class="hash-link" aria-label="1) ë™ê¸° vs ë¹„ë™ê¸° (ì œì–´ê¶Œì˜ ê´€ì )ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="1) ë™ê¸° vs ë¹„ë™ê¸° (ì œì–´ê¶Œì˜ ê´€ì )ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h3>
<ul>
<li class="">
<p><strong>Sync-Blocking</strong>: í˜¸ì¶œí•œ ìŠ¤ë ˆë“œê°€ ì‘ì—…ì´ ëë‚  ë•Œê¹Œì§€ ì œì–´ê¶Œì„ ìƒê³  ëŒ€ê¸°</p>
</li>
<li class="">
<p><strong>Async-NonBlocking</strong>: ì‘ì—…ì„ ë‹¤ë¥¸ ìŠ¤ë ˆë“œì— ìœ„ì„í•˜ê³  ì¦‰ì‹œ ì œì–´ê¶Œì„ ë°˜í™˜</p>
</li>
<li class="">
<p>ì‹œê°„ì´ ê±¸ë¦¬ëŠ” ì‘ì—…ì˜ ê²½ìš°, <strong>Async-NonBlocking</strong>ë°©ì‹ì„ í†µí•´ ì‘ì—…ì„ ë˜ì§€ê³  ì œì–´ê¶Œì„ ë°”ë¡œ ë°›ì•„ì•¼ í•©ë‹ˆë‹¤.</p>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-threadpoolì´ë€">2) ThreadPoolì´ë€?<a href="#2-threadpoolì´ë€" class="hash-link" aria-label="2) ThreadPoolì´ë€?ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="2) ThreadPoolì´ë€?ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h3>
<ul>
<li class="">ìš”ì²­ë§ˆë‹¤ ìƒˆë¡œìš´ ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•˜ë©´,</li>
<li class="">ìŠ¤ë ˆë“œ ìƒì„± ë¹„ìš© + ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ ë¹„ìš©ìœ¼ë¡œ ì¸í•´ ì„±ëŠ¥ ì €í•˜ê°€ ë°œìƒ</li>
</ul>
<p>â†’ ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ <strong>ë¯¸ë¦¬ ë§Œë“  ìŠ¤ë ˆë“œë¥¼ ì¬ì‚¬ìš©í•˜ëŠ” êµ¬ì¡°ê°€ ThreadPool</strong></p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ì¥ì ">ì¥ì :<a href="#ì¥ì " class="hash-link" aria-label="ì¥ì :ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="ì¥ì :ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h4>
<ol>
<li class=""><strong>ëŠìŠ¨í•œ ê²°í•©</strong>: ServiceëŠ” ì´ë©”ì¼ì„ ì–´ë–»ê²Œ ë³´ë‚´ëŠ”ì§€ ëª°ë¼ë„ ë¨</li>
<li class=""><strong>í™•ì¥ì„±</strong>: ë‹¤ë¥¸ ì‘ì—…ì— ëŒ€í•´ ë¦¬ìŠ¤ë„ˆë§Œ í•˜ë‚˜ ë” ë§Œë“¤ë©´ ë</li>
<li class=""><strong>ì¥ì•  ê²©ë¦¬</strong>: ì´ë©”ì¼ ì‹¤íŒ¨í•´ë„ ì½”ë“œ ìƒì„±ì€ ì„±ê³µ</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-event-driven-architecture-ì ìš©">3) Event-Driven Architecture ì ìš©<a href="#3-event-driven-architecture-ì ìš©" class="hash-link" aria-label="3) Event-Driven Architecture ì ìš©ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="3) Event-Driven Architecture ì ìš©ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h3>
<ul>
<li class="">
<p>Springì˜ <code>ApplicationEventPublisher</code>ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§(ì¸ì¦ ì½”ë“œ ìƒì„±)ê³¼ ë¶€ê°€ ë¡œì§(ì´ë©”ì¼ ë°œì†¡)ì„ ë¶„ë¦¬í•©ë‹ˆë‹¤.</p>
</li>
<li class="">
<p><strong>ë°œí–‰(Publish):</strong></p>
<blockquote>
<p>ì„œë¹„ìŠ¤ ê³„ì¸µì—ì„œ íŠ¹ì • ì´ë²¤íŠ¸ë¥¼ <code>publishEvent()</code>ë¥¼ í†µí•´ íŠ¸ë¦¬ê±° í•©ë‹ˆë‹¤.<br>
ì´ë²¤íŠ¸ ì²˜ë¦¬ ì—¬ë¶€ì™€ ìƒê´€ì—†ì´ ì¦‰ì‹œ ì‘ë‹µì„ ë°˜í™˜í•©ë‹ˆë‹¤.</p>
</blockquote>
</li>
<li class="">
<p><strong>êµ¬ë…(Subscribe):</strong></p>
<blockquote>
<p><code>@EventListener</code>ë¥¼ í†µí•´ íŠ¹ì • ì´ë²¤íŠ¸ê°€ íŠ¸ë¦¬ê±° ë˜ë©´ ì´ì— ëŒ€í•œ ì²˜ë¦¬ë¥¼ í•©ë‹ˆë‹¤.</p>
</blockquote>
</li>
<li class="">
<p><strong>ë¹„ë™ê¸°í™”(Async):</strong></p>
<blockquote>
<p>ë¦¬ìŠ¤ë„ˆ ë©”ì„œë“œì— <code>@Async</code>ë¥¼ í†µí•´ ë¹„ë™ê¸° ì‘ì—…ì„ì„ ëª…ì‹œí•˜ê³ , <br>
ì»¤ìŠ¤í…€í•˜ì—¬, ë©”ì¸ ìŠ¤ë ˆë“œê°€ ì•„ë‹Œ ë³„ë„ì˜ ì›Œì»¤ ìŠ¤ë ˆë“œë¡œ ì²˜ë¦¬í•¨ì„ ëª…ì‹œí•©ë‹ˆë‹¤.</p>
</blockquote>
</li>
<li class="">
<p><strong>Before:</strong> Serviceê°€ ì§ì ‘ ì´ë©”ì¼ ë°œì†¡</p>
</li>
<li class="">
<p><strong>After:</strong> ServiceëŠ” &quot;ì¸ì¦ ì½”ë“œ ìƒì„±ë¨&quot; ì´ë²¤íŠ¸ë§Œ ë°œí–‰</p>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-í•´ê²°ê³¼ì •">3. í•´ê²°ê³¼ì •<a href="#3-í•´ê²°ê³¼ì •" class="hash-link" aria-label="3. í•´ê²°ê³¼ì •ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="3. í•´ê²°ê³¼ì •ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-ì´ë²¤íŠ¸-í´ë˜ìŠ¤">1) ì´ë²¤íŠ¸ í´ë˜ìŠ¤<a href="#1-ì´ë²¤íŠ¸-í´ë˜ìŠ¤" class="hash-link" aria-label="1) ì´ë²¤íŠ¸ í´ë˜ìŠ¤ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="1) ì´ë²¤íŠ¸ í´ë˜ìŠ¤ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h3>
<blockquote>
<p>ìš°ë¦¬ê°€ ì²˜ë¦¬í•  ì‘ì—…ì˜ íŠ¸ë¦¬ê±°ê°€ ë  Eventë¥¼ ë¨¼ì € ìƒì„±í•©ë‹ˆë‹¤.</p>
</blockquote>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">VerificationCodeCreatedEvent</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">ApplicationEvent</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">final</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> email</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">final</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> code</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">final</span><span class="token plain"> </span><span class="token class-name">VerificationType</span><span class="token plain"> type</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token class-name">VerificationCodeCreatedEvent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">Object</span><span class="token plain"> source</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">String</span><span class="token plain"> email</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">String</span><span class="token plain"> code</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">VerificationType</span><span class="token plain"> type</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">super</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">source</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">email </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> email</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">code </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> code</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> type</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// getters</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-ì´ë²¤íŠ¸-ë°œí–‰-service-ê³„ì¸µ">2) ì´ë²¤íŠ¸ ë°œí–‰ (Service ê³„ì¸µ)<a href="#2-ì´ë²¤íŠ¸-ë°œí–‰-service-ê³„ì¸µ" class="hash-link" aria-label="2) ì´ë²¤íŠ¸ ë°œí–‰ (Service ê³„ì¸µ)ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="2) ì´ë²¤íŠ¸ ë°œí–‰ (Service ê³„ì¸µ)ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h3>
<blockquote>
<p>ë¹„ì¦ˆë‹ˆìŠ¤ ì‘ì—…ì„ ì²˜ë¦¬í•˜ë˜ ê¸°ì¡´ì˜ Seviceê³„ì¸µì—ì„œëŠ” <br>
ì´ì œ ì´ë²¤íŠ¸ ì²˜ë¦¬ì— ëŒ€í•œ ë‚´ìš©ì„ ì•Œ í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.<br>
ë‹¨ì§€, ì´ë²¤íŠ¸ë¥¼ ë˜ì§€ê¸°ë§Œ í•©ë‹ˆë‹¤.</p>
</blockquote>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token annotation punctuation" style="color:#393A34">@Service</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token annotation punctuation" style="color:#393A34">@RequiredArgsConstructor</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">VerificationService</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">final</span><span class="token plain"> </span><span class="token class-name">ApplicationEventPublisher</span><span class="token plain"> eventPublisher</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">final</span><span class="token plain"> </span><span class="token class-name">RedisService</span><span class="token plain"> redisService</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">createAndSendCode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">String</span><span class="token plain"> email</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">VerificationType</span><span class="token plain"> type</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// 1. Redisì— ì¸ì¦ ì½”ë“œ ì €ì¥ (ë™ê¸°)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">String</span><span class="token plain"> code </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">generateRandomCode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        redisService</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">saveCode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">email</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> code</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> type</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// 2. ì´ë²¤íŠ¸ ë°œí–‰ (ë¹„ë™ê¸°)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        eventPublisher</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">publishEvent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">VerificationCodeCreatedEvent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> email</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> code</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> type</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-ì´ë²¤íŠ¸-ë¦¬ìŠ¤ë„ˆ-ë¹„ë™ê¸°-ì²˜ë¦¬">3) ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ (ë¹„ë™ê¸° ì²˜ë¦¬)<a href="#3-ì´ë²¤íŠ¸-ë¦¬ìŠ¤ë„ˆ-ë¹„ë™ê¸°-ì²˜ë¦¬" class="hash-link" aria-label="3) ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ (ë¹„ë™ê¸° ì²˜ë¦¬)ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="3) ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ (ë¹„ë™ê¸° ì²˜ë¦¬)ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h3>
<blockquote>
<p><code>@Async()</code>ì–´ë…¸í…Œì…˜ì— ì¶”ê°€ë¡œ <code>ThreadPoolTaskExecutor</code>ë¥¼ ì„¤ì •í•˜ì—¬ ë©”ì¸ ìŠ¤ë ˆë“œê°€ ì•„ë‹Œ ì›Œì»¤ ìŠ¤ë ˆë“œë¥¼ í• ë‹¹ í•©ë‹ˆë‹¤.</p>
</blockquote>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token annotation punctuation" style="color:#393A34">@Component</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">VerificationCodeEventListener</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">final</span><span class="token plain"> </span><span class="token class-name">EmailService</span><span class="token plain"> emailService</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token annotation punctuation" style="color:#393A34">@Async</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;emailTaskExecutor&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ë³„ë„ ìŠ¤ë ˆë“œ í’€ì—ì„œ ì‹¤í–‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token annotation punctuation" style="color:#393A34">@EventListener</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">handleVerificationCodeCreated</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">VerificationCodeCreatedEvent</span><span class="token plain"> event</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            emailService</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">sendVerificationCode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                event</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getEmail</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                event</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getCode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                event</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getType</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">Exception</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// ì‹¤íŒ¨ ì‹œ ì¬ì‹œë„ ë¡œì§ ë˜ëŠ” ì•Œë¦¼ ì²˜ë¦¬</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-threadpooltaskexecutor-ì„¤ì •">4) ThreadPoolTaskExecutor ì„¤ì •<a href="#4-threadpooltaskexecutor-ì„¤ì •" class="hash-link" aria-label="4) ThreadPoolTaskExecutor ì„¤ì •ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="4) ThreadPoolTaskExecutor ì„¤ì •ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h3>
<ul>
<li class="">
<p><code>CorePoolSize</code> (ê¸°ë³¸ ìŠ¤ë ˆë“œ ìˆ˜)</p>
</li>
<li class="">
<p><code>MaxPoolSize</code> (ìµœëŒ€ ìŠ¤ë ˆë“œ ìˆ˜)</p>
</li>
<li class="">
<p><code>QueueCapacity</code> (ëŒ€ê¸° í í¬ê¸°)</p>
</li>
<li class="">
<p><code>RejectedExecutionHandler</code>:</p>
<ul>
<li class="">ìµœëŒ€ ìŠ¤ë ˆë“œê¹Œì§€ ë‹¤ ì“°ê³  íë„ ê½‰ ì°¼ì„ ë•Œ ì–´ë–»ê²Œ í• ì§€ ê²°ì •í•©ë‹ˆë‹¤.</li>
<li class=""><code>AbortPolicy</code> (ê¸°ë³¸ê°’): ì˜ˆì™¸ë¥¼ ë˜ì§€ê³  ì‘ì—…ì„ ë²„ë¦½ë‹ˆë‹¤.</li>
<li class=""><code>CallerRunsPolicy</code>: íê°€ ê½‰ ì°¨ë©´ ì´ë²¤íŠ¸ë¥¼ ë°œí–‰í•œ ë©”ì¸ ìŠ¤ë ˆë“œê°€ ì§ì ‘ ì²˜ë¦¬í•©ë‹ˆë‹¤.</li>
</ul>
</li>
<li class="">
<p><code>ThreadNamePrefix</code>:</p>
<ul>
<li class="">ë””ë²„ê¹…ì„ ìœ„í•œ ë„¤ì´ë°ì…ë‹ˆë‹¤.</li>
</ul>
</li>
</ul>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token annotation punctuation" style="color:#393A34">@Configuration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token annotation punctuation" style="color:#393A34">@EnableAsync</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">AsyncConfig</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token annotation punctuation" style="color:#393A34">@Bean</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;emailTaskExecutor&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token class-name">Executor</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">emailTaskExecutor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">ThreadPoolTaskExecutor</span><span class="token plain"> executor </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">ThreadPoolTaskExecutor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        executor</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setCorePoolSize</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// ê¸°ë³¸ ìŠ¤ë ˆë“œ ìˆ˜</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        executor</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setMaxPoolSize</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// ìµœëŒ€ ìŠ¤ë ˆë“œ ìˆ˜</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        executor</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setQueueCapacity</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic">// ëŒ€ê¸° í í¬ê¸°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        executor</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setThreadNamePrefix</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;email-async-&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        executor</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setRejectedExecutionHandler</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">ThreadPoolExecutor</span><span class="token class-name punctuation" style="color:#393A34">.</span><span class="token class-name">CallerRunsPolicy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// íê°€ ê½‰ ì°¼ì„ ë•Œ: í˜¸ì¶œí•œ ìŠ¤ë ˆë“œê°€ ì§ì ‘ ì‹¤í–‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        executor</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">initialize</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> executor</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="threadpool-ì„¤ì •">ThreadPool ì„¤ì •<a href="#threadpool-ì„¤ì •" class="hash-link" aria-label="ThreadPool ì„¤ì •ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="ThreadPool ì„¤ì •ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h4>
<ul>
<li class="">ì´ë©”ì¼ ë°œì†¡ì€ CPU ì—°ì‚°ë³´ë‹¤ SMTP ì„œë²„ì™€ì˜ I/O ëŒ€ê¸° ì‹œê°„ì´ ê¸´ ì‘ì—…ì´ê¸° ë•Œë¬¸ì—</li>
<li class="">ìŠ¤ë ˆë“œ ìˆ˜ë¥¼ í¬ê²Œ ì¡ì§€ ì•Šê³  ì´ˆê¸° ì„¤ì • ë‹¨ê³„ì´ë¯€ë¡œ ê°’ì„ ìµœì†Œí™”í–ˆìŠµë‹ˆë‹¤.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ì™œ-threadpooltaskexecutorë¥¼-ë³„ë„ë¡œ-ê´€ë¦¬í•´ì•¼-í•˜ëŠ”ê°€">ì™œ ThreadPoolTaskExecutorë¥¼ ë³„ë„ë¡œ ê´€ë¦¬í•´ì•¼ í•˜ëŠ”ê°€?<a href="#ì™œ-threadpooltaskexecutorë¥¼-ë³„ë„ë¡œ-ê´€ë¦¬í•´ì•¼-í•˜ëŠ”ê°€" class="hash-link" aria-label="ì™œ ThreadPoolTaskExecutorë¥¼ ë³„ë„ë¡œ ê´€ë¦¬í•´ì•¼ í•˜ëŠ”ê°€?ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="ì™œ ThreadPoolTaskExecutorë¥¼ ë³„ë„ë¡œ ê´€ë¦¬í•´ì•¼ í•˜ëŠ”ê°€?ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h4>
<blockquote>
<p><code>ThreadPool</code>ì˜ ì„¤ì •ì€ ë‹¨ìˆœíˆ ëª‡ ê°œì˜ ìŠ¤ë ˆë“œë¥¼ ëŒë¦´ì§€ì˜ ë¬¸ì œê°€ ì•„ë‹Œ ìì›ì˜ ë°°ë¶„ì— ëŒ€í•œ ì„¤ì •ì…ë‹ˆë‹¤.<br>
ë‹¨ìˆœíˆ <code>@Async</code>ë§Œ ì‚¬ìš©í•˜ê³  ì„¤ì •ì„ ìƒëµí•˜ë©´, <br>
ìŠ¤í”„ë§ì€ ê¸°ë³¸ì ìœ¼ë¡œ <code>SimpleAsyncTaskExecutor</code>ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>
</blockquote>
<ul>
<li class="">
<p><strong><code>SimpleAsyncTaskExecutor</code>ì˜ ìœ„í—˜ì„±</strong></p>
<ul>
<li class="">ìš”ì²­ë§ˆë‹¤ ìƒˆë¡œìš´ ìŠ¤ë ˆë“œ ìƒì„±</li>
<li class="">ìŠ¤ë ˆë“œ ì¬ì‚¬ìš© X</li>
<li class="">íŠ¸ë˜í”½ ì¦ê°€ ì‹œ, <strong>OOM</strong>ì´ ë°œìƒ ê°€ëŠ¥</li>
</ul>
</li>
<li class="">
<p><strong>ThreadPoolì„ ë³„ë„ë¡œ ê´€ë¦¬í•˜ì—¬</strong></p>
<ul>
<li class="">ë©”ì¸ ìŠ¤ë ˆë“œì™€ ì›Œì»¤ ìŠ¤ë ˆë“œë¥¼ êµ¬ë¶„í•˜ì—¬, ì¥ì•  ê²©ë¦¬</li>
<li class=""><code>CorePoolSize</code>ì™€ <code>MaxPoolSize</code>ë¥¼ í†µí•´ ì•Œë§ëŠ” ìì› í• ë‹¹</li>
<li class=""><code>QueueCapacity</code>ë¥¼ í†µí•´ ëŒ€ê¸° ì‘ì—…ì„ ì•ˆì „í•˜ê²Œ ë³´ê´€</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="5-ì„±ëŠ¥-ì¸¡ì •">5) ì„±ëŠ¥ ì¸¡ì •<a href="#5-ì„±ëŠ¥-ì¸¡ì •" class="hash-link" aria-label="5) ì„±ëŠ¥ ì¸¡ì •ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="5) ì„±ëŠ¥ ì¸¡ì •ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ì¸¡ì •-ë°©ë²•">ì¸¡ì • ë°©ë²•<a href="#ì¸¡ì •-ë°©ë²•" class="hash-link" aria-label="ì¸¡ì • ë°©ë²•ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="ì¸¡ì • ë°©ë²•ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h4>
<ul>
<li class="">í…ŒìŠ¤íŠ¸ í™˜ê²½: ë¡œì»¬ Docker + Redis + Gmail SMTP / JMeter</li>
<li class="">JMeterë¡œ ë™ì‹œ ì‚¬ìš©ì 50ëª…, ê° 10íšŒ ìš”ì²­</li>
<li class="">API: POST /api/auth/email/verification</li>
</ul>
<table><thead><tr><th>í•­ëª©</th><th>Before (ë™ê¸°)</th><th>After (ë¹„ë™ê¸°)</th><th>ê°œì„ ìœ¨</th></tr></thead><tbody><tr><td><strong>í‰ê·  ì‘ë‹µì‹œê°„</strong></td><td>2.5ì´ˆ</td><td>0.2ì´ˆ</td><td><strong>92% â†“</strong></td></tr><tr><td><strong>95 percentile</strong></td><td>3.2ì´ˆ</td><td>0.3ì´ˆ</td><td><strong>90% â†“</strong></td></tr><tr><td><strong>ì²˜ë¦¬ëŸ‰ (TPS)</strong></td><td>10 req/s</td><td>100+ req/s</td><td><strong>10ë°° â†‘</strong></td></tr><tr><td><strong>ë™ì‹œ ì²˜ë¦¬ ê°€ëŠ¥ ìˆ˜</strong></td><td>10ëª…</td><td>100ëª…+</td><td><strong>10ë°° â†‘</strong></td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="ë³´ì™„ì ">ë³´ì™„ì <a href="#ë³´ì™„ì " class="hash-link" aria-label="ë³´ì™„ì ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="ë³´ì™„ì ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-ì´ë²¤íŠ¸-ë°œí–‰-ì‹œ-íŠ¸ëœì­ì…˜-ë¬¸ì œ">1) ì´ë²¤íŠ¸ ë°œí–‰ ì‹œ, íŠ¸ëœì­ì…˜ ë¬¸ì œ<a href="#1-ì´ë²¤íŠ¸-ë°œí–‰-ì‹œ-íŠ¸ëœì­ì…˜-ë¬¸ì œ" class="hash-link" aria-label="1) ì´ë²¤íŠ¸ ë°œí–‰ ì‹œ, íŠ¸ëœì­ì…˜ ë¬¸ì œì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="1) ì´ë²¤íŠ¸ ë°œí–‰ ì‹œ, íŠ¸ëœì­ì…˜ ë¬¸ì œì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token annotation punctuation" style="color:#393A34">@Transactional</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">createAndSendCode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">String</span><span class="token plain"> email</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">VerificationType</span><span class="token plain"> type</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">String</span><span class="token plain"> code </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">generateRandomCode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    redisService</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">saveCode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">email</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> code</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> type</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 1) DB ì €ì¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    eventPublisher</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">publishEvent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">VerificationCodeCreatedEvent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> email</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> code</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> type</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<ul>
<li class="">ì´ë²¤íŠ¸ ë°œí–‰ ì§í›„, ì˜ˆì™¸ ë°œìƒ ì‹œ ë¡¤ë°±</li>
<li class="">ì‘ì—… 1)ì´ ë¬´ì‹œë˜ì–´, ì½”ë“œê°€ ì—†ëŠ” ì´ë©”ì¼ì´ ë°œì†¡</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="í•´ê²°ì±…">í•´ê²°ì±…<a href="#í•´ê²°ì±…" class="hash-link" aria-label="í•´ê²°ì±…ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="í•´ê²°ì±…ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token annotation punctuation" style="color:#393A34">@Component</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">VerificationCodeEventListener</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">final</span><span class="token plain"> </span><span class="token class-name">EmailService</span><span class="token plain"> emailService</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token annotation punctuation" style="color:#393A34">@Async</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;emailTaskExecutor&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ë³„ë„ ìŠ¤ë ˆë“œ í’€ì—ì„œ ì‹¤í–‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token annotation punctuation" style="color:#393A34">@TransactionalEventListener</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">phase </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name">TransactionPhase</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">AFTER_COMMIT</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">handleVerificationCodeCreated</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">VerificationCodeCreatedEvent</span><span class="token plain"> event</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            emailService</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">sendVerificationCode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                event</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getEmail</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                event</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getCode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                event</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getType</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">Exception</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// ì‹¤íŒ¨ ì‹œ ì¬ì‹œë„ ë¡œì§ ë˜ëŠ” ì•Œë¦¼ ì²˜ë¦¬</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<ul>
<li class="">ë‹¨ìˆœíˆ <code>@EventListener</code>ì–´ë…¸í…Œì´ì…˜ì´ ì•„ë‹Œ,</li>
<li class=""><code>@TransactionalEventListener</code>ì„ ì‚¬ìš©í•˜ì—¬ ì´ë©”ì¼ ë°œì†¡ì´ DB ì €ì¥ë³´ë‹¤ ë¨¼ì € ì‹¤í–‰ë˜ëŠ” ë¬¸ì œë¥¼ ë°©ì§€<!-- -->
<ul>
<li class="">íŠ¸ëœì­ì…˜ì´ ì»¤ë°‹ëœ ì´í›„ì—ë§Œ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•˜ê¸° ë•Œë¬¸</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ì£¼ì˜ì ">ì£¼ì˜ì <a href="#ì£¼ì˜ì " class="hash-link" aria-label="ì£¼ì˜ì ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="ì£¼ì˜ì ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h4>
<ul>
<li class=""><code>@Async</code>ë‚˜ <code>@Transactional</code>ì€ Spring AOP ê¸°ë°˜ìœ¼ë¡œ ë™ì‘</li>
<li class=""><strong>ìê°€ í˜¸ì¶œ</strong> ì‹œ ë™ì‘í•˜ì§€ ì•ŠìŒ<!-- -->
<ul>
<li class="">ë™ì¼ í´ë˜ìŠ¤ ë‚´ì˜ ë©”ì„œë“œ í˜¸ì¶œ ì‹œ,</li>
<li class="">í”„ë¡ì‹œ ê°ì²´ë¥¼ ê±°ì¹˜ì§€ ì•Šì•„ <code>@Async</code>ê°€ ë™ì‘í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ,</li>
<li class="">ë°˜ë“œì‹œ ë¦¬ìŠ¤ë„ˆ í´ë˜ìŠ¤ë¥¼ ë³„ë„ì˜ <code>@Component</code>ë¡œ ë¶„ë¦¬í•˜ì—¬ ë¹ˆ ì£¼ì…ì„ í†µí•´ í˜¸ì¶œí•´ì•¼ í•¨</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-ì¬ì‹œë„-ë¡œì§-ì—†ìŒ">2) ì¬ì‹œë„ ë¡œì§ ì—†ìŒ<a href="#2-ì¬ì‹œë„-ë¡œì§-ì—†ìŒ" class="hash-link" aria-label="2) ì¬ì‹œë„ ë¡œì§ ì—†ìŒì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="2) ì¬ì‹œë„ ë¡œì§ ì—†ìŒì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h3>
<blockquote>
<p>SMTP ì„œë²„ ì¥ì• ì— ëŒ€í•œ ëŒ€ì‘ì´ ì—†ìŒ</p>
</blockquote>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="í•´ê²°ì±…-1">í•´ê²°ì±…<a href="#í•´ê²°ì±…-1" class="hash-link" aria-label="í•´ê²°ì±…ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="í•´ê²°ì±…ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h4>
<p><code>handleVerificationCodeCreated</code>ì— ë°˜ë³µë¬¸ + <code>try-catch</code>ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹œë„íšŸìˆ˜ ë° ì‹¤íŒ¨íšŸìˆ˜ ì¹´ìš´íŒ… ë° ì¬ì‹œë„ ë¡œì§ ì¶”ê°€ í•„ìš”</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-ë©”ì„¸ì§€-ìœ ì‹¤-ë°©ì§€">3) ë©”ì„¸ì§€ ìœ ì‹¤ ë°©ì§€<a href="#3-ë©”ì„¸ì§€-ìœ ì‹¤-ë°©ì§€" class="hash-link" aria-label="3) ë©”ì„¸ì§€ ìœ ì‹¤ ë°©ì§€ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="3) ë©”ì„¸ì§€ ìœ ì‹¤ ë°©ì§€ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h3>
<blockquote>
<p>í˜„ì¬ êµ¬ì¡°ëŠ” ë©”ì¸ ì„œë²„ê°€ ì£½ìœ¼ë©´ ì´ë²¤íŠ¸ê°€ ì´ˆê¸°í™”<br>
[ì´ë²¤íŠ¸ ë°œí–‰] â†’ [ë©”ëª¨ë¦¬ í] â†’ [ì„œë²„ ì…§ë‹¤ìš´] â†’ ì´ë²¤íŠ¸ ìœ ì‹¤</p>
</blockquote>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="í•´ê²°ì±…-2">í•´ê²°ì±…<a href="#í•´ê²°ì±…-2" class="hash-link" aria-label="í•´ê²°ì±…ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="í•´ê²°ì±…ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h4>
<ul>
<li class="">RabbitMQ, Kafka ê°™ì€ ë©”ì‹œì§€ ë¸Œë¡œì»¤ ì‚¬ìš©</li>
<li class="">Dead Letter Queue(DLQ)ë¡œ ì‹¤íŒ¨í•œ ë©”ì‹œì§€ ë³„ë„ ê´€ë¦¬</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ì°¸ê³ -ìë£Œ">ì°¸ê³  ìë£Œ<a href="#ì°¸ê³ -ìë£Œ" class="hash-link" aria-label="ì°¸ê³  ìë£Œì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="ì°¸ê³  ìë£Œì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h4>
<ul>
<li class=""><a href="https://docs.spring.io/spring-framework/reference/core/beans/context-introduction.html#context-functionality-events" target="_blank" rel="noopener noreferrer" class="">Spring Framework - Event Publishing</a></li>
<li class=""><a href="https://docs.spring.io/spring-framework/reference/integration/scheduling.html" target="_blank" rel="noopener noreferrer" class="">Spring Framework - Task Execution and Scheduling</a></li>
</ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="ë¸”ë¡œê·¸ ê²Œì‹œë¬¼ íƒìƒ‰"><a class="pagination-nav__link pagination-nav__link--next" href="/blog/redis-concurrency"><div class="pagination-nav__sublabel">ë‹¤ìŒ ê²Œì‹œë¬¼</div><div class="pagination-nav__label">ë ˆë””ìŠ¤ëŠ” ì‹±ê¸€ìŠ¤ë ˆë“œì¸ë° ì™œ ë™ì‹œì„± ì œì–´ê°€ í•„ìš”í• ê¹Œ?</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-ë¬¸ì œ-ìƒí™©ë™ê¸°-ë¸”ë¡œí‚¹-ë°©ì‹" class="table-of-contents__link toc-highlight">1. ë¬¸ì œ ìƒí™©(ë™ê¸° ë¸”ë¡œí‚¹ ë°©ì‹)</a><ul><li><a href="#ì´ˆê¸°-ì½”ë“œ" class="table-of-contents__link toc-highlight">ì´ˆê¸° ì½”ë“œ</a></li></ul></li><li><a href="#2-í•µì‹¬-ê°œë…-ì •ë¦¬" class="table-of-contents__link toc-highlight">2. í•µì‹¬ ê°œë… ì •ë¦¬</a><ul><li><a href="#1-ë™ê¸°-vs-ë¹„ë™ê¸°-ì œì–´ê¶Œì˜-ê´€ì " class="table-of-contents__link toc-highlight">1) ë™ê¸° vs ë¹„ë™ê¸° (ì œì–´ê¶Œì˜ ê´€ì )</a></li><li><a href="#2-threadpoolì´ë€" class="table-of-contents__link toc-highlight">2) ThreadPoolì´ë€?</a></li><li><a href="#3-event-driven-architecture-ì ìš©" class="table-of-contents__link toc-highlight">3) Event-Driven Architecture ì ìš©</a></li></ul></li><li><a href="#3-í•´ê²°ê³¼ì •" class="table-of-contents__link toc-highlight">3. í•´ê²°ê³¼ì •</a><ul><li><a href="#1-ì´ë²¤íŠ¸-í´ë˜ìŠ¤" class="table-of-contents__link toc-highlight">1) ì´ë²¤íŠ¸ í´ë˜ìŠ¤</a></li><li><a href="#2-ì´ë²¤íŠ¸-ë°œí–‰-service-ê³„ì¸µ" class="table-of-contents__link toc-highlight">2) ì´ë²¤íŠ¸ ë°œí–‰ (Service ê³„ì¸µ)</a></li><li><a href="#3-ì´ë²¤íŠ¸-ë¦¬ìŠ¤ë„ˆ-ë¹„ë™ê¸°-ì²˜ë¦¬" class="table-of-contents__link toc-highlight">3) ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ (ë¹„ë™ê¸° ì²˜ë¦¬)</a></li><li><a href="#4-threadpooltaskexecutor-ì„¤ì •" class="table-of-contents__link toc-highlight">4) ThreadPoolTaskExecutor ì„¤ì •</a></li><li><a href="#5-ì„±ëŠ¥-ì¸¡ì •" class="table-of-contents__link toc-highlight">5) ì„±ëŠ¥ ì¸¡ì •</a></li></ul></li><li><a href="#ë³´ì™„ì " class="table-of-contents__link toc-highlight">ë³´ì™„ì </a><ul><li><a href="#1-ì´ë²¤íŠ¸-ë°œí–‰-ì‹œ-íŠ¸ëœì­ì…˜-ë¬¸ì œ" class="table-of-contents__link toc-highlight">1) ì´ë²¤íŠ¸ ë°œí–‰ ì‹œ, íŠ¸ëœì­ì…˜ ë¬¸ì œ</a></li><li><a href="#2-ì¬ì‹œë„-ë¡œì§-ì—†ìŒ" class="table-of-contents__link toc-highlight">2) ì¬ì‹œë„ ë¡œì§ ì—†ìŒ</a></li><li><a href="#3-ë©”ì„¸ì§€-ìœ ì‹¤-ë°©ì§€" class="table-of-contents__link toc-highlight">3) ë©”ì„¸ì§€ ìœ ì‹¤ ë°©ì§€</a></li></ul></li></ul></div></div></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2026 Kang-hee. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>